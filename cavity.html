<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SCOREC core: Cavity Operator</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="scorec.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SCOREC core
   </div>
   <div id="projectbrief">Parallel unstructured mesh tools</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="index.html">The SCOREC core tools</a></li><li class="navelem"><a class="el" href="apf.html">APF</a></li>  </ul>
</div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Cavity Operator </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>A cavity operation is a generalization for anything operating on a mesh entity that needs access to a surrounding cavity comprised of adjacent elements and their closures, either to read or write attached data or even to modify the mesh.</p>
<p>A user-provided <a class="el" href="classapf_1_1CavityOp.html" title="user-defined mesh cavity operator">apf::CavityOp</a> should define two methods: setEntity() and apply(). setEntity() should proceed as follows: 1) check if the operator should be applied. if not, return SKIP. 2) try to build the cavity. before getting upward adjacencies of entities, call <a class="el" href="classapf_1_1CavityOp.html#a892b46c57b353f0b228ac645b3037ba6" title="within setEntity, require that entities be made local">CavityOp::requestLocality</a> on them. If it returns false, return REQUEST. 3) return OK</p>
<p>Entity x needs to be local before upward adjacent entities of x are added to the cavity. If setEntity returns OK, APF may subsequently call apply() which should do all the actual writing or mesh modification. setEntity should not write or modify the cavity. if setEntity returns REQUEST, it may be called several times. Any call to requestLocality which returns false will request a migration to make all the given entities local. It is for correctness to request all the surface entities at some stage of cavity expansion before returning REQUEST.</p>
<p>To use a <a class="el" href="classapf_1_1CavityOp.html" title="user-defined mesh cavity operator">CavityOp</a>, currently the function applyToDimension is provided which will apply the operator where needed to all mesh entities of a given dimension in the entire distributed mesh.</p>
<p>To have an efficient <a class="el" href="classapf_1_1CavityOp.html" title="user-defined mesh cavity operator">CavityOp</a>, setEntity() should store the cavity as a local variable for apply() to use.</p>
<p>mesh modifying operators should call preDeletion(e) before actually deleting an entity to prevent a crash due to iterator invalidation. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<hr class="footer"/><address class="footer"><small>
Generated for SCOREC core by&nbsp;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.9.1</small></address>
</body>
</html>
